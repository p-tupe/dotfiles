#!/usr/bin/env bash
# Automatically called in update_everything

echo -e "Cleaning up..."
(
  rm -rf ~/.*history
  rm -rf ~/.config/zsh/.zhistory
  rm -rf ~/.lesshst
  rm -rf ~/.wget-hsts
  rm -rf ~/.ipython
  rm -rf ~/.cljs
) >/dev/null 2>&1 &

(
  pushd ~/.Trash/
  rm -rf *
  popd
) >/dev/null 2>&1 &

command fd --unrestricted --glob --follow --prune --type file ".DS_Store" --exec rm &

rm -rf ~/Music/Music

brew autoremove && brew cleanup --prune=all &

sqlite3 /Users/pritesh/Library/Preferences/com.apple.LaunchServices.QuarantineEventsV2 'delete from LSQuarantineEvent'
# sudo log erase --all

# Clear Cache
# rm -rf $HOME/Library/Caches/*
# rm -rf ~/.cache/*

if (docker stats --no-stream >/dev/null 2>&1); then
  echo -e "\nClearing docker stuff - be careful if prompted!"
  docker system prune -a --volumes
fi

wait

echo -e "Done!"
