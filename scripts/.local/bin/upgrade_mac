#!/usr/bin/env bash

echo -e "\n\nUpdating brew...\n"
(
  brew update
  brew upgrade --greedy
  pushd ~/.dotfiles/homebrew
  brew bundle dump --force --describe
  popd
) >/dev/null &

echo -e "\n\nUpdating npm...\n"
(
  npm --location=global update
) >/dev/null &

echo -e "\n\nUpdating uv...\n"
(
  uv tool upgrade --all
) >/dev/null &

echo -e "\n\nUpdating nvim...\n"
nvim --headless "+Lazy! sync" +MasonUpdate +TSUpdate +qa

wait

cleanup_everything
