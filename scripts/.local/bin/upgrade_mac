#!/usr/bin/env bash

echo -e "\n\nUpdating...\n"

(
  brew update
  brew upgrade --greedy
  pushd ~/.dotfiles/homebrew
  brew bundle dump --force --describe
  popd
) >/dev/null &

(
  npm --location=global update
) >/dev/null &

(
  uv tool upgrade --all
) >/dev/null &

nvim --headless "+Lazy! sync" +MasonUpdate +TSUpdate +qa

wait

echo -e "\n\nDone!\n"

cleanup_everything
